Далее нам понадобится выполнить итерацию над каждым символом строки и посчитать количество вхождений в хэш. Это можно сделать с помощью уже изученного нами ранее итератора each_char:

text.each_char { |char| freqs[char] += 1 }

                  
Во время каждой итерации переменной char присваивается соответствующий символ в нашей текстовой строке, а затем значение частоты этого символа увеличивается на один в хэше freqs.

Так, например, если в тексте дважды появится буква c, то после выполнения итератора freqs["c"] будет равен 2.
Таким образом, во freqs будут храниться все символы строки с соответствующим количеством вхождений.

Чтобы показать красивый результат, выводимый в алфавитном порядке, можно создать диапазон всех букв и вывести в столбик сами буквы и соответствующие им значения частоты встречающихся в строке букв:

("а".."я").each { |x| puts "#{x} : #{freqs[x]}" }

                  
Окончательный код:

text = "Мне нравится изучать Ruby на Степике!"
text.downcase!
freqs = {}
freqs.default = 0

text.each_char { |char| freqs[char] += 1}

("а".."я").each { |x| puts "#{x} : #{freqs[x]}" }

                  
Вот так, используя всего 6 строк кода мы создали полностью рабочий счетчик частоты букв в строке или тексте!