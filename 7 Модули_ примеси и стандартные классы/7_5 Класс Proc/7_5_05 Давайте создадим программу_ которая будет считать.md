Давайте создадим программу, которая будет считать время выполнения отдельного блока кода.
Определим метод, который принимает Proc в качестве параметра и подсчитывает время выполнения этого Proc:

def calc(proc)
  start = Time.now
  proc.call
  duration = Time.now - start
end

                  
Давайте посмотрим как это работает:

test = Proc.new do
  num = 0
  1000000.times do
    num = num + 1
  end
end

puts calc(test)

                  
С помощью этого метода мы теперь можем легко вычислить время выполнения любого блока кода на Ruby! Надо только завернуть его в Proc.