Класс Proc

Ruby предоставляет возможность взять блок кода, завернуть его в объект (называемый Proc), сохранить его в переменной и запустить код в блоке, когда вам захочется. Например:

hello = Proc.new do |x|
  puts "Привет, #{x}"
end

                  
Мы создали объект класса Proc под название hello, который принимает параметр и выводит приветствие. Для того чтобы запустить код в объекте Proc используется метод call:

hello.call "Степик"
# выведет: Привет, Степик

                  
Код в блоке между ключевыми словами do и end может включать любое количество операций:

hello = Proc.new do |x|
  puts "Привет, #{x}"
  puts "Как дела?"
end