Класс OpenStruct

OpenStruct похож на Struct, за исключением того, что он сразу создает объект заданной структуры и такие объекты можно расширять новыми атрибутами.

Чтобы использовать OpenStruct, необходимо включить соответствующую библиотеку, используя оператор require:

require "ostruct"

book = OpenStruct.new(name: "Рэмбо")
book.author = "Дэвид Моррелл"
book.pages = 218

puts book.pages  
# выведет: 218
puts book
# выведет: #<OpenStruct name="Рэмбо", author="Дэвид Моррелл", pages=218>

                  
Как видите, мы можем определить любое количество атрибутов в процессе написания кода.

Классы Struct и OpenStruct очень похожи друг на друга. Ключевое отличие в том, что OpenStruct создает сразу готовые объекты, а Struct — своеобразные квази-классы для создания объектов