Создав класс Player, мы теперь можем создать метод, который заставит двух противников сражаться:

def fight(p1, p2)
  while p1.isAlive && p2.isAlive
    p1.hit(p2)
    p2.hit(p1)
    show_info(p1, p2)
  end
    
  if p1.isAlive 
    puts "#{p1.name} ПОБЕДИЛ!" 
  elsif p2.isAlive
    puts "#{p2.name} ПОБЕДИЛ!" 
  else
    puts "НИЧЬЯ!"
  end
end

def show_info(*p)
  p.each { |x| puts x}
end

                  
Метод fight использует цикл, чтобы заставить игроков бить друг друга до тех пор, пока метод isAlive не вернет false для одного из них. После каждой итерации информация обоих игроков выводится на экран с помощью метода show_info.

По окончании цикла (т.е. один из противников проиграл) мы проверяем и выводим соответствующий результат.