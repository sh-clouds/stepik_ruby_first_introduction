Простая игра

Объектно-ориентированное программирование очень полезно, когда речь идет о создании сложных приложений, например, таких как игры.

Давайте создадим простую игру-файтинг, в которой два противника будут сражаться до тех пор, пока один из них не проиграет.
Начнем с создания класса Player:

class Player
  attr_accessor :name, :health, :power
  def initialize(n, h, pow)
    @name = n
    @health = h
    @power = pow
  end
  def isAlive
    @health > 0
  end
  def hit(opponent)
    opponent.health -= self.power
  end
  def to_s
    "#{name}: Здоровье: #{health}, Сила: #{power}"
  end
end

                  
Класс Player имеет 3 переменных экземпляра - name, health и power, и 3 метода экземпляра:
isAlive показывает, жив ли игрок.
hit бьет противника (уменьшает здоровье противника на величину силы игрока)
to_s выводит информацию об игроке.

Мы также определили getter и setter для переменных экземпляра, используя метод attr_accessor.