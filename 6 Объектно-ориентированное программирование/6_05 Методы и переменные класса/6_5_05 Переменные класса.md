Переменные класса

Переменные класса доступны для каждого объекта класса. Переменная класса принадлежит классу, а не объектам.
Для объявления переменной класса используются два знака @, например, @@variable.

С помощью переменной класса мы можем, например, вести счет количества всех созданных объектов класса:

class Car
  @@count = 0
  def initialize
    @@count += 1
  end
  def self.get_count
    @@count
  end
end

audi = Car.new
bmw = Car.new
toyota = Car.new

puts Car.get_count

# выведет: 3

                  
В приведенном выше примере @@count является переменной класса. Так как метод initialize вызывается для каждого создаваемого объекта, увеличение переменной @@count будет отслеживать количество создаваемых объектов класса.

Также мы определили метод класса, который называется get_count для возврата значения переменной класса.
В примере мы создали три объекта класса, поэтому значение переменной @@count будет равно 3.

Переменные класса обычно используются, когда вам нужна информация о классе, а не об отдельных объектах.