Методы класса

Методы класса - это методы, которые можно вызывать непосредственно на самом классе, без необходимости создания его объектов.

Это может быть полезно в ситуации, когда нет необходимости создавать объект класса, например, когда класс используется для группировки аналогичных методов и функциональности.

Например, мы хотим сгруппировать арифметические методы в свой отдельный класс. На самом деле в Ruby есть встроенный модуль Math (хотя модуль это не совсем класс), но мы в качестве примера создадим свой класс.

Итак, для выполнения арифметических операций нам не нужно создавать объекты класса, но мы можем использовать его методы. Методы класса определяются с использованием ключевого слова self:

class Arithmetic
  def self.info
    puts "Класс арифметики"
  end
end

                  
Теперь метод info является методом класса и может быть вызван непосредственно из класса, без необходимости использования объекта:

Arithmetic.info
# выведет: Класс арифметики

                  
Обратите внимание, что при использовании внутри методов экземпляра, self представляет текущий экземпляр (объект) этого класса.
А при определении методов класса, self относится к самому классу, а не к экземпляру класса.