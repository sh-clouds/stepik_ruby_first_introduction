Перегрузка оператора

Ruby позволяет нам перегружать операторы (например +, -, *, /), что дает нам возможность изменять их поведение, например, чтобы складывать два объекта.

Например, у нас есть класс Human, который имеет свойства age и weight. Мы хотим иметь возможность сложить вместе два объекта Human и в результате получить новый объект, age и weight которого равны сумме соответствующих свойств объектов, чтобы затем вычислить средний возраст и вес одного человека.

Для этого нам нужно определить соответствующий оператор (+) в виде метода:

class Human

  attr_accessor :age, :weight
  
  def initialize(age, weight)
    self.age = age
    self.weight = weight
  end

  def +(man)
    Human.new(self.age + man.age, self.weight + man.weight)
  end

end

alex = Human.new(34, 64)
misha = Human.new(38, 81)
stas = Human.new(21, 68)
res = alex + misha + stas

puts res.age/3 # выведет: 31
puts res.weight/3 # выведет: 71

                  
Как вы можете видеть, метод + принимает один аргумент, которым является другой объект класса Human, и возвращает новый объект Humanс соответствующими значениями.

Вы можете переопределить почти все операторы в Ruby и задать любую пользовательскую логику в соответствующем методе.