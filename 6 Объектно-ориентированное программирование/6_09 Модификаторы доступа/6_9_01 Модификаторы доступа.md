Модификаторы доступа

До сих пор все методы, которые мы создавали в наших классах, были общедоступны. Это означает, что их можно было вызывать извне класса.

Однако существуют определенные ситуации, когда методы должны быть видны только своему классу. Например, представьте себе класс Banking с методами вычисления значений для банковских транзакций и операций. В ситуации, когда эти методы будут доступны вне класса, надежность данных могла бы оказаться под угрозой.

Ruby для обеспечения контроля видимости предоставляет модификаторы публичного (public), частного (private) и защищенного (protected) доступа.

По умолчанию все методы класса (кроме initialize) являются публичными (public), то есть они доступны как изнутри, так и извне класса.

Для того, чтобы сделать метод доступным только изнутри класса, можно использовать модификатор private. Например:

class Automobile
  def initialize(name, year)
    @name = name
    @year = year
  end
  def info
    puts "Автомобилю #{@name} уже #{years_old} лет"
  end

  private
  def years_old
    2023 - @year
  end
end

audi = Automobile.new("A4", 2007)
audi.info

# выведет: Автомобилю A4 уже 16 лет

                  
В приведенном выше коде метод years_old имеет модификатор доступа private и доступен только внутри класса. Мы вызвали его из метода info, который является публичным.